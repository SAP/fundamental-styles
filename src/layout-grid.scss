@import "./mixins";

/*!
.fd-col
*/

$block: #{$fd-namespace}-col;
$blockContainer: #{$fd-namespace}-container;
$blockRow: #{$fd-namespace}-row;
$size: (12: "l", 16: "xl");
$col-until-xl: 12;
$col-xl: 16;

.#{$blockContainer} {
  @include fd-reset();

  display: flex;
  flex-wrap: wrap;
  flex: 0 0 100%;
  position: relative;
  margin: 0 -0.25rem 0 -0.25rem;

  &--no-gap {
    margin: 0;

    .#{$block} {
      padding: 0;
    }
  }

  .#{$blockRow} {
    margin-left: 0;
    margin-right: 0;
    margin-top: -0.5rem;
  }

  .#{$blockRow} + .#{$blockRow} {
    margin-top: 0;
  }

  @include fd-rtl() {
    direction: rtl;
  }
}

.#{$blockRow} {
  @include fd-reset();

  display: flex;
  flex-wrap: wrap;
  flex: 0 0 100%;
  position: relative;
  margin: 0 -0.25rem;
  min-width: 100%;

  &--inner-flex {
    display: flex;
  }

  &--auto-gutter {
    .#{$blockRow} + .#{$blockRow} {
      margin-top: 0;
    }

    margin-bottom: 0;

    .#{$block} {
      margin-bottom: 0.5rem;
    }
  }

  .#{$block} {
    .#{$blockRow} + .#{$blockRow} {
      margin-top: -0.5rem;
    }
  }
}

.#{$blockContainer} {
  @include fd-reset();

  display: flex;
  flex-wrap: wrap;
  flex: 0 0 100%;
  position: relative;
  margin: 0 -0.25rem;

  &--no-gap {
    margin: 0;
  }

  > *:last-child {
    margin-bottom: 0;
  }

  .#{$blockRow} {
    margin-left: 0;
    margin-right: 0;
  }
}

.#{$blockRow} {
  @include fd-reset();

  padding: 0.5rem 0.25rem 0 0.25rem;
  min-width: 100%;
  max-width: 100%;

  @for $n from 0 through $col-until-xl {
    &--#{$n} {
      min-width: ( ( $n / $col-until-xl ) *100%);
      max-width: ( ( $n / $col-until-xl ) *100%);
    }

    &--offset-#{$n} {
      margin-left: ( ( $n / $col-until-xl ) *100%);
    }

    &--offset-after-#{$n} {
      margin-right: ( ( $n / $col-until-xl ) *100%);
    }
  }

  .#{$blockRow} {
    margin: 0 -0.25rem;
    margin-top: -0.5rem;
  }

  &--wrap {
    flex-wrap: wrap;
  }
}

@media (min-width: 600px) {
  .#{$blockContainer} {
    margin: 0 -0.5rem 0 -0.5rem;

    .#{$blockRow} {
      margin-left: 0;
      margin-right: 0;
      margin-top: -1rem;
    }

    .#{$blockRow} + .#{$blockRow} {
      margin-top: 0;
    }

    &--no-gap {
      margin: 0;

      .fd-col {
        padding: 0;
      }
    }
  }

  .#{$blockRow} {
    margin-bottom: 0;

    &--auto-gutter {
      .#{$blockRow} + .#{$blockRow} {
        margin-top: 0;
      }

      margin-bottom: 0;

      .#{$block} {
        margin-bottom: 1rem;
      }
    }

    .#{$block} {
      .#{$blockRow} + .#{$blockRow} {
        margin-top: 1rem;
      }
    }
  }

  .#{$block} {
    padding: 1rem 0.5rem 0 0.5rem;

    @for $n from 0 through $col-until-xl {
      &--#{$n}--m {
        min-width: ( ( $n / $col-until-xl ) *100%);
        max-width: ( ( $n / $col-until-xl ) *100%);
      }

      &--offset-#{$n}--m {
        margin-left: ( ( $n / $col-until-xl ) *100%);
      }

      &--offset-after-#{$n}--#{map-get($size,$col-until-xl)} {
        margin-right: ( ( $n / $col-until-xl ) *100%);
      }
    }

    .#{$blockRow} {
      margin-left: -0.5rem;
      margin-right: -0.5rem;
    }

    .#{$blockRow} {
      margin: 0 -0.5rem;
    }
  }
}

@media (min-width: 1024px) {
  .#{$block} {
    @for $n from 0 through $col-until-xl {
      &--#{$n}--#{map-get($size,$col-until-xl)} {
        min-width: ( ( $n / $col-until-xl ) *100%);
        max-width: ( ( $n / $col-until-xl ) *100%);
      }

      &--offset-#{$n}--#{map-get($size,$col-until-xl)} {
        margin-left: ( ( $n / $col-until-xl ) *100%);
      }

      &--offset-after-#{$n}--#{map-get($size,$col-until-xl)} {
        margin-right: ( ( $n / $col-until-xl ) *100%);
      }
    }
  }
}

@media (min-width: 1440px) {
  .#{$block} {
    @for $n from 0 through 16 {
      &--#{$n}--#{map-get($size,$col-xl)} {
        min-width: ( ( $n / $col-xl ) *100%);
        max-width: ( ( $n / $col-xl ) *100%);
      }

      &--offset-#{$n}--#{map-get($size,$col-xl)} {
        margin-left: ( ( $n / $col-xl ) *100%);
      }

      &--offset-after-#{$n}--#{map-get($size,$col-xl)} {
        margin-right: ( ( $n / $col-xl) *100%);
      }
    }
  }
}
