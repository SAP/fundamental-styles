@import './new-settings';
@import './mixins';
@import './icon';

$block: #{$fd-namespace}-resizable-card;

$fd-resize-handle-width: 0.0625rem;
$fd-border-on-drag: 0.125rem dashed var(--sapContent_DragAndDropActiveColor);

.#{$block} {
  @include fd-reset();
  @include fd-flex();

  position: relative;

  &__card {
    @include fd-reset();

    order: 1;
    flex-grow: 1;
    flex-shrink: 1;
    position: relative;
    // subtract width taken by vertical handler and horizontal handler
    height: calc(100% - #{$fd-resize-handle-width});

    .#{$block}__icon-container {
      @include fd-reset();

      width: 1rem;
      height: 1rem;
      position: absolute;
      bottom: 0;
      right: 0;
      z-index: 2;
      padding: 0 0.0625rem 0.0625rem 0;

      @include fd-rtl() {
        right: auto;
        left: 0;
        padding: 0 0 0.0625rem 0.0625rem;
      }

      .#{$block}--icon {
        @include fd-reset();
        @include fd-icon('resize-corner');

        font-family: SAP-icons;
        font-size: 1rem;
        line-height: 1rem;
        cursor: nwse-resize;
        position: absolute;
        bottom: 0;
        right: 0.0625rem;
        color: var(--sapButton_IconColor);

        @include fd-rtl() {
          transform: rotate(90deg);
          position: relative;
          cursor: nesw-resize;
          padding: 0 0.0625rem 0.0625rem 0.5rem;
          // padding-left is needed after rotation
        }
      }
    }
  }

  &__resize {
    &__cursor {
      &--horizontal {
        @include fd-reset();

        cursor: ew-resize;
      }

      &--vertical {
        @include fd-reset();

        cursor: ns-resize;
      }

      &--both {
        @include fd-reset();

        cursor: nwse-resize;

        @include fd-rtl() {
          cursor: nesw-resize;
        }
      }
    }

    &__handle {
      &--vertical {
        @include fd-reset();

        order: 2;
        // subtract resize-corner icon font-size/2
        height: calc(100% - 0.5rem);
        width: $fd-resize-handle-width;
        cursor: ew-resize;
      }

      &--vertical::content {
        content: '';
        position: absolute;
      }

      &--horizontal {
        @include fd-reset();

        // subtract resize-corner icon font-size/2
        width: calc(100% - 0.5rem);
        height: $fd-resize-handle-width;
        position: absolute;
        bottom: 0;
        cursor: ns-resize;
      }
    }

    &--indication-border {
      @include fd-reset();

      border: $fd-border-on-drag;
    }
  }
}
