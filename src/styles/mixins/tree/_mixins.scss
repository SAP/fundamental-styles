$fd-tree-highlight-box-shadow: inset 0.375rem 0 0 0 !default;
$fd-tree-highlight-box-shadow-rtl: inset -0.375rem 0 0 0 !default;
$fd-tree-navigated-box-shadow: inset -0.1875rem 0 0 0 var(--sapSelectedColor) !default;
$fd-tree-navigated-box-shadow-rtl: inset 0.1875rem 0 0 0 var(--sapSelectedColor) !default;

@mixin fd-tree-item-states() {
  cursor: pointer;
  position: relative;

  @include fd-hover() {
    @include fd-list-item-hover-state();
  }

  @include fd-selected() {
    @include fd-list-item-base-selected-state();
  }

  @include fd-active() {
    @include fd-list-item-base-active-state();
  }

  @include fd-list-fake-outline() {
    bottom: 0.625rem;
  }

  @include fd-active() {
    .#{$block}__icon {
      @include fd-icon-selector() {
        color: var(--sapList_Active_TextColor);
      }
    }

    .#{$block}__text,
    .#{$button} {
      color: var(--sapList_Active_TextColor);
    }
  }
}

@mixin fd-tree-focus() {
  outline-style: var(--sapContent_FocusStyle);
  outline-width: var(--sapContent_FocusWidth);
  outline-color: var(--sapContent_FocusColor);
  outline-offset: -0.125rem;

  @include fd-active() {
    outline-color: var(--sapContent_ContrastFocusColor);
  }
}

@mixin fd-tree-indent-item($level, $padding) {
  .#{$block}__item {
    &[aria-level="#{$level}"] {
      .#{$block}__item-container {
        padding-left: $padding + $fd-tree-expander-size;

        @include fd-rtl() {
          padding-left: $fd-tree-item-padding-right;
          padding-right: $padding + $fd-tree-expander-size;
        }
      }
    }
  }

  &.#{$block}--compact {
    .#{$block}__item {
      &[aria-level="#{$level}"] {
        .#{$block}__item-container {
          padding-left: $padding + $fd-tree-expander-size-compact;

          @include fd-rtl() {
            padding-left: $fd-tree-item-padding-right;
            padding-right: $padding + $fd-tree-expander-size-compact;
          }
        }
      }
    }
  }
}

@mixin fd-tree-expand-indents() {
  &.expanded-level-1 {
    @include fd-tree-indent-item(2, 1.5rem);
  }

  &.expanded-level-2 {
    @include fd-tree-indent-item(2, 1rem);
    @include fd-tree-indent-item(3, 2.5rem);
  }

  &.expanded-level-3,
  &.expanded-level-4,
  &.expanded-level-5 {
    @include fd-tree-indent-item(2, 0.5rem);
    @include fd-tree-indent-item(3, 1rem);
    @include fd-tree-indent-item(4, 1.5rem);
    @include fd-tree-indent-item(5, 2rem);
    @include fd-tree-indent-item(6, 2.5rem);
  }

  @for $i from 6 through 12 {
    &.expanded-level-#{$i} {
      @for $j from 1 through 12 {
        $offset: ($j - 1) * 0.25rem;

        @include fd-tree-indent-item($j, $offset);
      }
    }
  }
}

@mixin fd-tree-set-highlight($color) {
  box-shadow: $fd-tree-highlight-box-shadow $color;

  @include fd-rtl() {
    box-shadow: $fd-tree-highlight-box-shadow-rtl $color;
  }

  @include fd-navigated() {
    box-shadow: $fd-tree-navigated-box-shadow, $fd-tree-highlight-box-shadow $color;

    @include fd-rtl() {
      box-shadow: $fd-tree-navigated-box-shadow-rtl, $fd-tree-highlight-box-shadow-rtl $color;
    }
  }
}

@mixin fd-tree-highlight-indicator() {
  .has-highlight-indicator {
    @include fd-tree-set-highlight(var(--sapInformationBorderColor));

    &--error {
      @include fd-tree-set-highlight(var(--sapErrorBorderColor));
    }

    &--warning {
      @include fd-tree-set-highlight(var(--sapWarningBorderColor));
    }

    &--success {
      @include fd-tree-set-highlight(var(--sapSuccessBorderColor));
    }
  }
}

@mixin fd-list-item-base-navigated-state() {
  box-shadow: $fd-tree-navigated-box-shadow;

  @include fd-rtl() {
    box-shadow: $fd-tree-navigated-box-shadow-rtl;
  }
}
