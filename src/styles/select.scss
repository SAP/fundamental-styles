@import "./new-settings";
@import "./mixins";

$block: #{$fd-namespace}-select;
$fd-select-padding-x: 0.625rem;
$fd-select-padding-x-compact: 0.5rem;

@mixin fd-select-set-min-width($width) {
  min-width: calc(#{$width} - var(--sapField_BorderWidth) * 2);
}

.#{$block} {
  @include fd-reset();

  text-shadow: var(--fdSelect_Text_Shadow);

  &__control {
    @include fd-input-field-base();
    @include fd-input-field-states();
    @include fd-input-group-button-overwrite();

    @include fd-flex-center() {
      justify-content: space-between;
    }

    @include fd-disabled() {
      pointer-events: none;
    }

    padding: 0;
    margin-bottom: 0;

    .#{$block}__button {
      @include fd-set-margin-left(0.25rem);
    }

    @include fd-readonly() {
      cursor: text;

      .#{$block}__text-content {
        @include fd-set-paddings-x-equal($fd-select-padding-x);
        @include fd-select-set-min-width(5rem);
      }
    }
  }

  &__text-content {
    @include fd-reset();
    @include fd-ellipsis();
    @include fd-set-padding-left($fd-select-padding-x);
    @include fd-select-set-min-width(2.5rem);

    display: inline-block;
  }

  &--compact {
    .#{$block}__control {
      height: $fd-form-input-height--compact;

      .#{$block}__text-content {
        @include fd-set-padding-left($fd-select-padding-x-compact);
        @include fd-select-set-min-width(2.75rem);
      }

      @include fd-readonly() {
        .#{$block}__text-content {
          @include fd-set-paddings-x-equal($fd-select-padding-x-compact);
        }
      }
    }
  }
}
