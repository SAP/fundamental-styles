@import './new-settings';

$block: #{$fd-namespace}-flex;

$fd-flex-spacings: (
  "tiny": 0.5rem,
  "small": 1rem,
  "medium": 2rem,
  "large": 3rem
);

.#{$block} {
  // Properties for the Parent (flex container)
  @mixin fd-flex($direction: row) {
    display: flex;
    flex-direction: $direction;

    @content;
  }

  @include fd-flex();

  // ----------- FLEX ALIGN CONTENT -----------
  @mixin fd-flex-align-content($type: normal) {
    display: flex;
    flex-wrap: wrap;
    align-content: $type;

    @content;
  }

  @each $type in (flex-start flex-end center space-between space-around space-evenly stretch start end baseline) {
    &--align-content-#{$type} {
      @include fd-flex-align-content(#{$type});
    }
  }

  // ----------- FLEX ALIGN ITEMS -----------
  @mixin fd-flex-align-items($type: stretch) {
    display: flex;
    align-items: $type;

    @content;
  }

  @each $type in (stretch flex-start flex-end center baseline start end self-start self-end) {
    &--align-items-#{$type} {
      @include fd-flex-align-items(#{$type});
    }
  }

  // ----------- FLEX DIRECTION -----------
  @each $type in (row row-reverse column column-reverse) {
    &--#{$type} {
      @include fd-flex(#{$type});
    }
  }

  // ----------- FLEX GAP -----------
  @each $type, $value in $fd-flex-spacings {
    &--gap-#{$type} {
      display: flex;
      gap: $value;
    }
  }

  @each $type, $value in $fd-flex-spacings {
    &--row-gap-#{$type} {
      display: flex;
      row-gap: $value;
    }
  }

  @each $type, $value in $fd-flex-spacings {
    &--column-gap-#{$type} {
      display: flex;
      column-gap: $value;
    }
  }

  @mixin fd-flex-gap($value, $type: "") {
    display: flex;
    $_value: "";

    @if $value == "tiny" {
      $_value: map_get($fd-flex-spacings, "tiny");
    } @else if $value == "small" {
      $_value: map_get($fd-flex-spacings, "small");
    } @else if $value == "medium" {
      $_value: map_get($fd-flex-spacings, "medium");
    } @else if $value == large {
      $_value: map_get($fd-flex-spacings, "large");
    } @else {
      $_value: $value;
    }

    @if $type == "" {
      gap: $_value;
    } @else {
      #{$type}-gap: $_value;
    }

    @content;
  }

  // ----------- FLEX JUSTIFY CONTENT -----------
  @mixin fd-flex-justify($type: flex-start) {
    display: flex;
    justify-content: $type;

    @content;
  }

  @each $type in (flex-start flex-end center space-between space-around space-evenly start end left right) {
    &--justify-#{$type} {
      @include fd-flex-justify(#{$type});
    }
  }

  // ----------- FLEX WRAP -----------
  @mixin fd-flex-wrap($type: nowrap) {
    display: flex;
    flex-wrap: $type;

    @content;
  }

  @each $type in (nowrap wrap wrap-reverse) {
    &--#{$type} {
      @include fd-flex-wrap(#{$type});
    }
  }

  // ----------- FLEX CENTER -----------
  @mixin fd-flex-center($direction: row) {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: $direction;

    @content;
  }

  &--center {
    @include fd-flex-center();

    &-column {
      @include fd-flex-center(column);
    }
  }

  // Properties for the Children (flex items)

  // ----------- FLEX ORDER -----------
  @mixin fd-flex-order($value: 0) {
    order: $value;

    @content;
  }

  @for $i from 0 through 20 {
    &-order-#{$i} {
      @include fd-flex-order(#{$i});
    }
  }

  // ----------- FLEX GROW -----------
  @mixin fd-flex-grow($value) {
    flex-grow: $value;

    @content;
  }

  @for $i from 1 through 20 {
    &-grow-#{$i} {
      @include fd-flex-grow(#{$i});
    }
  }

  // ----------- FLEX SHRINK -----------
  @mixin fd-flex-shrink($value) {
    flex-shrink: $value;

    @content;
  }

  @for $i from 1 through 20 {
    &-shrink-#{$i} {
      @include fd-flex-shrink(#{$i});
    }
  }

  // ----------- FLEX ALIGN SELF -----------
  @mixin fd-flex-align-self($value) {
    align-self: $value;

    @content;
  }

  @each $type in (auto flex-start flex-end center baseline stretch) {
    &-align-self-#{$type} {
      @include fd-flex-align-self(#{$type});
    }
  }

  // ----------- FLEX CHILD -----------
  @mixin fd-flex-child($value) {
    flex: $value;

    @content;
  }
}
