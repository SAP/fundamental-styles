@import "./settings";
@import "./mixins";
@import "./functions";
@import "./overlay.scss";

/*!
.fd-modal-overlay
  .fd-modal
    .fd-modal__header
      .fd-modal__title
      .fd-modal__close
    .fd-modal__body
    .fd-modal__footer
*/
$block: #{$fd-namespace}-modal;

.#{$block} {

  // OVERLAY
  $fd-modal-overlay-color: fade(var(--sapBlockLayer_Background), 60);

  // MODAL
  $fd-modal-margin-y: 6%;
  $fd-modal-margin-x: 10%;
  $fd-modal-margin-y-mobile: 0;
  $fd-modal-margin-x-mobile: 0;
  $fd-modal-padding-x: 1rem;
  $fd-modal-min-width: 20rem;
  $fd-modal-box-shadow: var(--sapContent_Shadow3);
  $fd-modal-border-radius: var(--sapElement_BorderCornerRadius);

  // HEADER
  $fd-modal-header-height: 2.75rem;
  $fd-modal-header-color: var(--sapPageHeader_Background);
  $fd-modal-header-shadow-color-1: var(--sapContent_ShadowColor);
  $fd-modal-header-shadow-color-2: var(--sapPageHeader_BorderColor);
  // TODO use fade
  // $fd-modal-header-box-shadow: 0 0 0.25rem 0 fade($fd-modal-header-shadow-color-1, 15), inset 0 -0.0625rem 0 0 $fd-modal-header-shadow-color-2;
  $fd-modal-header-box-shadow: 0 0 0.25rem 0 $fd-modal-header-shadow-color-1, inset 0 -0.0625rem 0 0 $fd-modal-header-shadow-color-2;

  // BODY
  $fd-modal-body-padding-y: 1rem;
  $fd-modal-body-color: var(--sapGroup_ContentBackground);

  // FOOTER
  $fd-modal-footer-height: 2.75rem;
  $fd-modal-footer-background: var(--sapPageFooter_Background);
  $fd-modal-footer-border-color: var(--sapPageFooter_BorderColor);
  $fd-modal-footer-border: 0.0625rem solid $fd-modal-footer-border-color;

  @include fd-reset();

  min-width: $fd-modal-min-width;
  margin: $fd-modal-margin-y $fd-modal-margin-x;

  @include media-breakpoint-down(l) {
    margin: $fd-modal-margin-y-mobile $fd-modal-margin-x-mobile;
  }

  &__overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: $fd-modal-overlay-color;
  }

  &__content {
    overflow: hidden;
    box-shadow: $fd-modal-box-shadow;
    border-radius: $fd-modal-border-radius;
  }

  &__header,
  &__body,
  &__footer {
    padding-left: $fd-modal-padding-x;
    padding-right: $fd-modal-padding-x;
  }

  &__header {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: $fd-modal-header-height;
    box-shadow: $fd-modal-header-box-shadow;
    background-color: $fd-modal-header-color;

    .#{$block}__title {
      @include fd-heading();
      @include fd-type("1");
      @include fd-ellipsis();

      margin-bottom: 0;
    }

    .#{$block}__close {
      margin-left: fd-space(reg);

      @include fd-rtl() {
        margin-right: fd-space(reg);
        margin-left: 0;
      }
    }
  }

  &__body {
    overflow-y: auto;
    padding: $fd-modal-body-padding-y;
    background-color: $fd-modal-body-color;

    // TODO SHOULD BE HERE?
    > :first-child {
      margin-top: 0;
    }

    > :last-child {
      margin-bottom: 0;
    }
  }

  &__footer {
    display: flex;
    align-items: center;
    justify-content: flex-end;
    height: $fd-modal-footer-height;
    border-top: $fd-modal-footer-border;
    background-color: $fd-modal-footer-background;

    & > :not(:first-child) {
      margin-left: fd-space(base);

      @include fd-rtl() {
        margin-right: fd-space(base);
        margin-left: 0;
      }
    }
  }
}
