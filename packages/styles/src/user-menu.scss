@use "sass:map";

@import './new-settings';
@import './mixins';

$block: #{$fd-namespace}-user-menu;
$navigation: #{$fd-namespace}-navigation;
$panel: #{$fd-namespace}-panel;

.#{$block} {
  background: var(--sapGroup_ContentBackground);

  .#{$block}__title-bar {
    --fdBar_Shadow: none;

    position: relative;

    &--center-title {
      .#{$fd-namespace}-title {
        position: absolute
      }
    }
  }

  .#{$block}__title {
    &--center {
      @include fd-set-position-left(50%);

      position: absolute;
      transform: translate(-50%, 0);

      @include fd-rtl() {
        transform: translate(50%, 0);
      }
    }
  }

  &__body {
    @include fd-reset();

    min-width: 18rem;
    max-width: 20rem;
  }

  &__header {
    @include fd-reset();
    @include fd-flex(column) {
      gap: 1rem;
      align-items: center;    
    
    };

    padding-block: 1rem;
    padding-inline: 1rem;
  }

  &__subheader {
    @include fd-reset();

    @include fd-flex(column) {
      gap: 0.25rem;
      align-items: center;
    }
  }

  &__user-name {
    @include fd-reset();

    color: var(--sapTextColor);
    font-family: var(--fdUserMenu_User_Name_Font_Family);
    font-size: var(--sapFontLargeSize);
  }

  &__user-info,
  &__user-role {
    @include fd-reset();

    color: var(--sapContent_LabelColor);
  }

  &__content-container {
    @include fd-reset();
    @include fd-flex(column) {
      gap: 1rem;
    };

    padding-block: 1rem;
    padding-inline: 1rem;
  }

  &__panel.#{$panel} {
    box-shadow: 0 0 0 0.0625rem var(--sapGroup_TitleBorderColor);

    .#{$panel}__header:has(.#{$panel}__button[aria-expanded="false"]) {
      border-bottom-color: transparent;
    }
  }

  // Mobile
  &--mobile {
    @include fd-flex(column);

    height: 100%;
    padding-block-start: 1rem;

    .#{$block}__body {
      flex: 1;
    }
  }

  // BTP USER MENU
  &--tool-header {
    .#{$block} {
      &__user-name {
        font-family: var(--sapFontBlackFamily);
        font-size: 1.25rem;
        line-height: 1.3;
        color: var(-–sapTitleColor);
      }

      &__navigation-submenu {
        top: -0.5rem;
        border: none;
        padding-block: 0.5rem;
        padding-inline: 0.5rem;
        border-radius: 0.5rem;
        margin-inline-end: 0.3875rem;
        box-shadow: var(--sapMenu_Shadow1);
        background: var(--sapGroup_ContentBackground);
      }
  
      &__navigation-submenu-wrapper {
        overflow: visible;
      }
  
      &__user-role {
        font-family: var(--sapFontFamily);
        font-size: var(--sapFontSize);
        line-height: var(--sapContent_LineHeight);
        color: var(–sapContent_LabelColor);
      }
  
      &__body {
        overflow: visible;

        &:has(.#{$block}__navigation-menu:first-child) {
          padding-block: 0;
        }
      }

      &__popover-body {
        border: none;
        padding-block: .75rem;
        padding-inline: 0;
        border-radius: .75rem;
        box-shadow: var(--sapMenu_Shadow2);
        background: var(--sapGroup_ContentBackground);
      }

      &__footer {
        @include fd-reset();
        
        @include fd-flex() {
          align-items: center;
          justify-content: flex-end;
        };

        padding-block: 0.75rem;
        padding-inline: 1.125rem;
      }
    }

    .#{$fd-namespace}-navigation__item.#{$fd-namespace}-navigation__item--title {
      --fdNavigation_Item_Title_Display: flex;
      
      margin-block-end: 1rem;
    }
  }
}
