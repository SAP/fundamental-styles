@import "./new-settings";
@import "./mixins";
@import "./mixins/table/table-fixed";
@import "./mixins/table/table-states";
@import "./mixins/table/table-responsive";
@import "./mixins/table/table-no-borders";
@import "./mixins/table/table-group-and-tree";

/*!
.fd-table(--compact, --condensed, --no-horizontal-borders, --no-vertical-borders, --fixed, --hidden, --tree, --group)
    thead(.fd-table__header(--no-horizontal-borders, --no-vertical-borders))
    tbody(.fd-table__body(--no-horizontal-borders, --no-vertical-borders))
    tfoot(.fd-table__footer)
        tr(.fd-table__row)([aria-selected])
          td(.fd-table__cell(--status-indicator, --checkbox, --fit-content, --fixed, --expand, --group)) + semantic
*/

$block: #{$fd-namespace}-table;

.#{$block} {
  --fd-table-header-cell-height: 2.75rem;
  --fd-table-cell-height: 2.75rem;

  &,
  &__cell,
  &__row,
  &__header,
  &__body,
  &__footer,
  &__text {
    @include fd-reset();
  }

  width: 100%;
  max-width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  border-bottom-left-radius: var(--fdTable_Border_Radius);
  border-bottom-right-radius: var(--fdTable_Border_Radius);

  /****** Elements ******/

  &__icon {
    @include fd-icon-element-base() {
      @include fd-flex-center();

      color: var(--sapContent_NonInteractiveIconColor);
      font-size: var(--sapFontSmallSize);
    }

    &--navigation {
      @include fd-icon-selector() {
        font-size: var(--sapFontSmallSize);
        width: 2rem;
        min-width: 2rem;
        height: 100%;
      }
    }
  }

  &__header {
    .#{$block}__cell {
      height: var(--fd-table-header-cell-height);
      background-color: var(--sapList_HeaderBackground);
      color: var(--sapList_HeaderTextColor);
      font-weight: var(--fdTable_Header_Cell_Font_Weight);
      border-top: var(--fdTable_Header_Horizontal_Border);
      border-bottom: var(--fdTable_Header_Horizontal_Border);

      @include fd-hover() {
        background-color: var(--fdTable_Header_Cell_Hover_Background);
        color: var(--fdTable_Header_Cell_Hover_Active_Color);
      }

      @include fd-active() {
        background-color: var(--fdTable_Header_Cell_Active_Background);
        color: var(--fdTable_Header_Cell_Hover_Active_Color);
      }
    }
  }

  &__text {
    @include fd-ellipsis();

    word-break: break-word;
    white-space: normal;
    text-shadow: var(--sapContent_TextShadow);

    &--no-wrap {
      white-space: nowrap;
    }
  }

  &__cell {
    text-align: left;
    height: var(--fd-table-cell-height);
    padding: 0 0.5rem;
    color: inherit;
    outline: none;
    border-bottom: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);
    border-left: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);

    &:last-child {
      border-right: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);
    }

    @include fd-rtl() {
      text-align: right;
      border-left: none;
      border-right: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);

      &:last-child {
        border-left: var(--sapList_BorderWidth) solid var(--sapList_BorderColor);
      }
    }

    &--no-data {
      text-align: center;
    }

    &--mock {
      padding: 0;
      width: auto;
    }

    &--checkbox {
      width: var(--fd-table-header-cell-height);
      vertical-align: baseline;
      padding: 0;
    }

    &--fit-content {
      width: 0.5rem;
      word-break: keep-all;
      white-space: nowrap;
    }

    &--no-padding {
      padding: 0;
    }

    &--status-indicator {
      width: 0.375rem;
      padding: 0;
    }

    &--navigated {
      box-shadow: inset -0.1875rem 0 var(--sapSelectedColor);

      @include fd-rtl() {
        box-shadow: inset 0.1875rem 0 var(--sapSelectedColor);
      }
    }

    &:first-child:not(.#{$block}__cell--checkbox, &.#{$block}__cell--status-indicator) {
      @include fd-set-padding-left(1rem);

      @include fd-rtl() {
        padding-left: 0.5rem;
      }
    }
  }

  &__row {
    background-color: var(--sapList_Background);

    @include fd-selected() {
      background-color: var(--sapList_SelectionBackgroundColor);

      .#{$block}__cell {
        border-bottom-color: var(--sapList_SelectionBorderColor);
      }
    }
  }

  &__cell,
  &__row {
    &--hoverable {
      @include fd-hover() {
        background-color: var(--sapList_Hover_Background);
        color: var(--fdTable_Hover_Down_Color);
      }

      @include fd-selected() {
        @include fd-hover() {
          background-color: var(--sapList_Hover_SelectionBackground);
        }
      }
    }

    &--activable,
    &--focusable {
      @include fd-fiori-focus();

      @include fd-selected() {
        @include fd-fiori-focus() {
          outline-color: var(--sapContent_ContrastFocusColor);
        }
      }
    }

    &--activable {
      cursor: pointer;

      @include fd-active() {
        background-color: var(--sapList_Active_Background);
        color: var(--sapList_Active_TextColor);

        * {
          color: var(--sapList_Active_TextColor) !important;
        }

        .#{$block}__cell {
          @include fd-hover() {
            background-color: var(--sapList_Active_Background);
          }
        }

        .#{$block}__text {
          text-shadow: none;
        }

        .#{$block}__icon {
          @include fd-icon-selector() {
            color: var(--sapContent_ContrastIconColor);
          }
        }

        .#{$fd-namespace}-link,
        .#{$fd-namespace}-form-label,
        .#{$fd-namespace}-object-status {
          color: inherit;
        }
      }

      @include fd-selected() {
        @include fd-active() {
          background-color: var(--sapList_Active_Background);

          .#{$block}__cell {
            border-bottom-color: var(--sapList_Active_Background);
          }
        }
      }
    }
  }

  &__body:not(:last-child) {
    .#{$block}__row:last-child {
      .#{$block}__cell {
        border-bottom-color: transparent;
      }
    }
  }

  &__footer {
    background-color: var(--sapList_Background);

    .#{$block}__row {
      vertical-align: middle;
    }

    .#{$block}__cell {
      font-weight: bold;
      border-top: 0.125rem solid var(--sapList_TableFooterBorder);
      border-bottom-color: transparent;
      border-left-color: transparent;
      border-right-color: transparent;
    }
  }

  &__inner {
    @include fd-reset();

    width: 100%;
    display: flex;
    justify-content: space-between;
  }

  &__column-header-icons {
    display: flex;

    .#{$block}__icon:not(:last-child) {
      margin-right: 0.25rem;
    }

    @include fd-rtl() {
      .#{$block}__icon {
        margin-right: 0;
      }

      .#{$block}__icon:not(:last-child) {
        margin-left: 0.25rem;
      }
    }
  }

  &__caption {
    @include fd-screen-reader-only();
  }

  &__item--clickable {
    cursor: pointer;
  }

  &__popover.#{$fd-namespace}-popover {
    height: 100%;
    display: block;
    color: inherit;

    .#{$fd-namespace}-popover__control {
      width: 100%;
      height: 100%;
      color: inherit;

      @include fd-flex-vertical-center();
    }
  }

  /****** Modifiers ******/

  &--compact {
    --fd-table-cell-height: 2rem;
  }

  &--condensed {
    --fd-table-cell-height: 1.5rem;

    .#{$block}__body,
    .#{$block}__footer {
      .#{$block}__cell--checkbox {
        .#{$block}__checkbox-label {
          margin-top: -0.25rem;
          position: absolute;
        }
      }

      .#{$block}__cell,
      .#{$block}__row {
        &--activable,
        &--focusable {
          @include fd-fiori-focus(var(--fdTable_Condensed_Focus_Outline_Offset));
        }
      }
    }
  }

  &--compact,
  &--condensed {
    --fd-table-header-cell-height: 2rem;
  }

  &--hidden {
    display: none;
  }

  @include fd-table-fixed();
  @include fd-table-states();
  @include fd-table-responsive();
  @include fd-table-no-borders();
  @include fd-table-group-and-tree();
}
