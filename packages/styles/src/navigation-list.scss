@use "sass:map";

@import "./new-settings";
@import "./mixins";

$block: #{$fd-namespace}-navigation-list;

.#{$block} {
  // Content
  --fdNavigationList_Content_Height: var(--sapElement_LineHeight);
  --fdNavigationList_Content_Background: var(--sapList_Background);
  --fdNavigationList_Content_Selection_Indicator_Color: transparent;

  // Text
  --fdNavigationList_Text_Offset: 1rem;
  --fdNavigationList_Text_Color: var(--sapList_TextColor);
  --fdNavigationList_Text_Font_Size: var(--sapFontSize);
  --fdNavigationList_Text_Font_Family: var(--sapFontBoldFamily);

  // Icon
  --fdNavigationList_Icon_Font_Size: 1rem;


  // Expander
  --fdNavigationList_Expander_Width: 2.25rem;
  --fdNavigationList_Expander_Font_Size: 1rem;

  @include fd-reset();

  @include fd-flex(column) {
    gap: 0.25rem;
  };

  width: 100%;
  list-style-type: none;

  &.level-2 {
    --fdNavigationList_Text_Offset: 2.5rem;
    --fdNavigationList_Text_Font_Size: var(--sapFontSize);
    --fdNavigationList_Text_Font_Family: var(--sapFontFamily);
  }

  &.level-3 {
    --fdNavigationList_Text_Offset: 3.5rem;
    --fdNavigationList_Text_Font_Size: var(--sapFontSize);
    --fdNavigationList_Text_Font_Family: var(--sapFontFamily);
  }

  &__item {
    @include fd-reset();

    &--separator {
      width: 100%;
      height: 0.0625rem;
      margin-block: 0.5rem;
      background: var(--sapToolbar_SeparatorColor);
    }
  }

  &__content {
    @include fd-reset();
    @include fd-flex-vertical-center() {
      gap: 0.5rem;
    };

    cursor: pointer;
    position: relative;
    overflow: hidden;
    padding-inline-end: 0.375rem;
    border-radius: var(--fdNavigationList_Content_Border_Radius);
    height: var(--fdNavigationList_Content_Height);
    background: var(--fdNavigationList_Content_Background);
    border-width: var(--sapList_BorderWidth);
    border-style: solid;
    border-top-color: var(--fdNavigationList_Content_Border_Top_Color, transparent);
    border-bottom-color: var(--fdNavigationList_Content_Border_Bottom_Color, var(--fdNavigationList_Content_Border_Color));
    border-left-color: var(--fdNavigationList_Content_Border_Left_Color, transparent);
    border-right-color: var(--fdNavigationList_Content_Border_Right_Color, transparent);


    &::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 0.188rem;
      height: 100%;
      background: var(--fdNavigationList_Content_Selection_Indicator_Color);
    }

    @include fd-rtl() {
      &::before {
        left: auto;
        right: 0;
      }
    }

    & + .#{$block} {
      margin-block-start: 0.25rem;
    }

    @include fd-hover() {
      --fdNavigationList_Content_Background: var(--sapList_Hover_Background);
      --fdNavigationList_Content_Border_Top_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Left_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Right_Color: var(--fdNavigationList_Content_Border_Color);
    }

    @include fd-active() {
      --fdNavigationList_Text_Color: var(--sapList_Active_TextColor);
      --fdNavigationList_Content_Background: var(--sapList_Active_Background);
      --fdNavigationList_Content_Border_Top_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Left_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Right_Color: var(--fdNavigationList_Content_Border_Color);
    }

    @include fd-selected() {
      --fdNavigationList_Content_Background: var(--sapList_SelectionBackgroundColor);
      --fdNavigationList_Content_Selection_Indicator_Color: var(--sapList_SelectionBorderColor);
      --fdNavigationList_Content_Border_Top_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Left_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Right_Color: var(--fdNavigationList_Content_Border_Color);

      @include fd-hover() {
        --fdNavigationList_Content_Background: var(--sapList_Hover_SelectionBackground);
        --fdNavigationList_Content_Selection_Indicator_Color: var(--sapList_SelectionBorderColor);
        --fdNavigationList_Content_Border_Top_Color: var(--fdNavigationList_Content_Border_Color);
        --fdNavigationList_Content_Border_Left_Color: var(--fdNavigationList_Content_Border_Color);
        --fdNavigationList_Content_Border_Right_Color: var(--fdNavigationList_Content_Border_Color);
      }
    }

    @include fd-focus() {
      --fdNavigationList_Content_Border_Top_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Left_Color: var(--fdNavigationList_Content_Border_Color);
      --fdNavigationList_Content_Border_Right_Color: var(--fdNavigationList_Content_Border_Color);
      
      outline: var(--sapContent_FocusStyle) var(--sapContent_FocusWidth) var(--sapContent_FocusColor);
      outline-offset: var(--fdNavigationList_Content_Outline_Offset);
    }

    @include fd-disabled() {
      pointer-events: none;
      opacity: var(--sapContent_DisabledOpacity);
    }
  }

  &__content-container {
    @include fd-reset();
    @include fd-flex-vertical-center();

    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  &__icon {
    @include fd-reset();
    @include fd-flex-vertical-center();

    height: 100%;
    padding-inline: 1rem 0.5rem;
    color: var(--fdNavigationList_Text_Color);

    [class*="sap-icon"] {
      font-size: var(--fdNavigationList_Icon_Font_Size);
    }

    & + .#{$block}__text {
      --fdNavigationList_Text_Offset: 0;
    }
  }

  &__text {
    @include fd-reset();
    @include fd-ellipsis();

    width: 100%;
    color: var(--fdNavigationList_Text_Color);
    font-size: var(--fdNavigationList_Text_Font_Size);
    font-family: var(--fdNavigationList_Text_Font_Family);
    padding-inline-start: var(--fdNavigationList_Text_Offset);
  }

  &__expander {
    @include fd-reset();
    @include fd-flex-center();
    @include fd-set-width(var(--fdNavigationList_Expander_Width));

    height: 100%;
    color: var(--fdNavigationList_Text_Color);

    [class*="sap-icon"] {
      font-size: var(--fdNavigationList_Expander_Font_Size);
    }
  }

  @include fd-compact-or-condensed() {
    --fdNavigationList_Icon_Font_Size: 1rem;
    --fdNavigationList_Text_Font_Size: var(--sapFontSize);
    --fdNavigationList_Content_Height: var(--sapElement_Compact_LineHeight);
  }
}
